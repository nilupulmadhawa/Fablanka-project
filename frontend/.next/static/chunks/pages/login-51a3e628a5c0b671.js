(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{6429:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(510)}])},2327:function(e,t,n){"use strict";n.d(t,{f7:function(){return l},kS:function(){return f},x4:function(){return p},xh:function(){return i},z2:function(){return o}});var r=n(7568),s=n(414),a=n(9581),u=function(){var e;return e=(0,r.Z)(function(e){var t,n;return(0,s.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("/api/account/user",{method:"GET",headers:{Accept:"application/json"}})];case 1:return[4,(t=r.sent()).json()];case 2:return n=r.sent(),200===t.status?e({type:a.DU,payload:n}):e({type:a._h}),[3,4];case 3:return r.sent(),e({type:a._h}),[3,4];case 4:return[2]}})}),function(t){return e.apply(this,arguments)}},c=function(){var e;return e=(0,r.Z)(function(e){var t;return(0,s.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,fetch("/api/account/verify",{method:"GET",headers:{Accept:"application/json"}})];case 1:return 200===t.sent().status?(e({type:a.IL}),e(u())):e({type:a.F3}),[3,3];case 2:return t.sent(),e({type:a.F3}),[3,3];case 3:return[2]}})}),function(t){return e.apply(this,arguments)}},i=function(){var e;return e=(0,r.Z)(function(e){var t;return(0,s.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,fetch("/api/account/refresh",{method:"GET",headers:{Accept:"application/json"}})];case 1:return 200===t.sent().status?(e({type:a.UM}),e(c())):e({type:a.MZ}),[3,3];case 2:return t.sent(),e({type:a.MZ}),[3,3];case 3:return[2]}})}),function(t){return e.apply(this,arguments)}},o=function(e,t,n,u,c){var i;return i=(0,r.Z)(function(r){var i,o;return(0,s.__generator)(this,function(s){switch(s.label){case 0:i=JSON.stringify({first_name:e,last_name:t,username:n,password:u,re_password:c}),r({type:a.Eq}),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,fetch("/api/account/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:i})];case 2:return 201===s.sent().status?r({type:a.bp}):r({type:a.YY}),[3,4];case 3:return s.sent(),r({type:a.YY}),[3,4];case 4:return r({type:a.$l}),[2]}})}),function(e){return i.apply(this,arguments)}},l=function(){return function(e){e({type:a.qu})}},p=function(e,t){var n;return n=(0,r.Z)(function(n){var r,c;return(0,s.__generator)(this,function(s){switch(s.label){case 0:r=JSON.stringify({username:e,password:t}),n({type:a.Eq}),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,fetch("/api/account/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:r})];case 2:return 200===(c=s.sent()).status?(n({type:a.XP}),n(u())):(console.log(c.status),n({type:a.Qj})),[3,4];case 3:return s.sent(),n({type:a.Qj}),[3,4];case 4:return n({type:a.$l}),[2]}})}),function(e){return n.apply(this,arguments)}},f=function(){var e;return e=(0,r.Z)(function(e){var t;return(0,s.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,fetch("/api/account/logout",{method:"POST",headers:{Accept:"application/json"}})];case 1:return 200===t.sent().status?e({type:a.$x}):e({type:a.ek}),[3,3];case 2:return t.sent(),e({type:a.ek}),[3,3];case 3:return[2]}})}),function(t){return e.apply(this,arguments)}}},2296:function(e,t,n){"use strict";var r=n(5893),s=n(7294),a=n(1043),u=n(2327),c=n(9008),i=n.n(c),o=n(2711),l=n.n(o),p=n(5152),f=n.n(p),h=f()(function(){return Promise.all([n.e(5675),n.e(650),n.e(7875)]).then(n.bind(n,6278))},{loadableGenerated:{webpack:function(){return[6278]}},ssr:!1}),d=f()(function(){return Promise.all([n.e(1664),n.e(650),n.e(3458)]).then(n.bind(n,3458))},{loadableGenerated:{webpack:function(){return[3458]}},ssr:!1}),m=function(e){var t=e.title,n=e.content,c=e.children;(0,s.useEffect)(function(){l().init({duration:1e3})},[]);var o=(0,a.I0)();return(0,s.useEffect)(function(){o&&null!=o&&o((0,u.xh)())},[o]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{children:t}),(0,r.jsx)("meta",{name:"description",content:n})]}),(0,r.jsx)(d,{className:"sticky-sm-top"}),(0,r.jsx)("div",{className:"container-fluid px-5 mt-5",children:c}),(0,r.jsx)("div",{children:(0,r.jsx)(h,{})})]})};m.defaultProps={title:"FabLanka",content:"FabLanka"},t.Z=m},510:function(e,t,n){"use strict";n.r(t);var r=n(4924),s=n(6042),a=n(9396),u=n(5893),c=n(7294),i=n(1043),o=n(1163),l=n(2327),p=n(2296),f=n(1607),h=function(){var e=(0,i.I0)(),t=(0,o.useRouter)(),n=(0,i.v9)(function(e){return e.auth.isAuthenticated}),h=(0,i.v9)(function(e){return e.auth.loading}),d=(0,c.useState)({username:"",password:""}),m=d[0],y=d[1],g=m.username,b=m.password,j=(0,i.v9)(function(e){return e.auth.userLoginFailed});(0,c.useEffect)(function(){console.log(j),!0===j&&alert("login failed")},[j]),(0,c.useEffect)(function(){e&&null!=e&&e((0,l.f7)())},[e]);var v=function(e){return y((0,a.Z)((0,s.Z)({},m),(0,r.Z)({},e.target.name,e.target.value)))},x=function(t){console.log("onSubmit"),t.preventDefault(),e&&null!=e&&e((0,l.x4)(g,b))};return n&&t.push("admin/dashboard"),(0,u.jsxs)(p.Z,{title:"FabLanka | Login",content:"Resiger page",children:[(0,u.jsx)("h1",{className:"display-4 mt-5",children:"Login Page"}),(0,u.jsxs)("form",{className:"bg-light p-5 mt-5 mb-5",onSubmit:x,children:[(0,u.jsx)("h3",{children:"Log Into Your Account"}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{className:"form-label mt-3",htmlFor:"username",children:(0,u.jsx)("strong",{children:"Username*"})}),(0,u.jsx)("input",{className:"form-control",type:"text",name:"username",placeholder:"Username*",onChange:v,value:g,required:!0})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{className:"form-label mt-3",htmlFor:"password",children:(0,u.jsx)("strong",{children:"Password*"})}),(0,u.jsx)("input",{className:"form-control",type:"password",name:"password",placeholder:"Password*",onChange:v,value:b,minLength:"8",required:!0})]}),h?(0,u.jsx)("div",{className:"d-flex justify-content-center align-items-center mt-5",children:(0,u.jsx)(f.Z,{type:"Oval",color:"#00bfff",width:50,height:50})}):(0,u.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-5",type:"submit",children:"Login"})]})]})};t.default=h}},function(e){e.O(0,[7689,4045,9774,2888,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);