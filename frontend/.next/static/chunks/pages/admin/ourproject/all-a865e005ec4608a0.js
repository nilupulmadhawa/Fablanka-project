(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3404],{6340:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/ourproject/all",function(){return n(4087)}])},2327:function(t,e,n){"use strict";n.d(e,{f7:function(){return l},kS:function(){return p},x4:function(){return h},xh:function(){return u},z2:function(){return o}});var r=n(7568),s=n(414),c=n(9581),a=function(){var t;return t=(0,r.Z)(function(t){var e,n;return(0,s.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("/api/account/user",{method:"GET",headers:{Accept:"application/json"}})];case 1:return[4,(e=r.sent()).json()];case 2:return n=r.sent(),200===e.status?t({type:c.DU,payload:n}):t({type:c._h}),[3,4];case 3:return r.sent(),t({type:c._h}),[3,4];case 4:return[2]}})}),function(e){return t.apply(this,arguments)}},i=function(){var t;return t=(0,r.Z)(function(t){var e;return(0,s.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fetch("/api/account/verify",{method:"GET",headers:{Accept:"application/json"}})];case 1:return 200===e.sent().status?(t({type:c.IL}),t(a())):t({type:c.F3}),[3,3];case 2:return e.sent(),t({type:c.F3}),[3,3];case 3:return[2]}})}),function(e){return t.apply(this,arguments)}},u=function(){var t;return t=(0,r.Z)(function(t){var e;return(0,s.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fetch("/api/account/refresh",{method:"GET",headers:{Accept:"application/json"}})];case 1:return 200===e.sent().status?(t({type:c.UM}),t(i())):t({type:c.MZ}),[3,3];case 2:return e.sent(),t({type:c.MZ}),[3,3];case 3:return[2]}})}),function(e){return t.apply(this,arguments)}},o=function(t,e,n,a,i){var u;return u=(0,r.Z)(function(r){var u,o;return(0,s.__generator)(this,function(s){switch(s.label){case 0:u=JSON.stringify({first_name:t,last_name:e,username:n,password:a,re_password:i}),r({type:c.Eq}),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,fetch("/api/account/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:u})];case 2:return 201===s.sent().status?r({type:c.bp}):r({type:c.YY}),[3,4];case 3:return s.sent(),r({type:c.YY}),[3,4];case 4:return r({type:c.$l}),[2]}})}),function(t){return u.apply(this,arguments)}},l=function(){return function(t){t({type:c.qu})}},h=function(t,e){var n;return n=(0,r.Z)(function(n){var r,i;return(0,s.__generator)(this,function(s){switch(s.label){case 0:r=JSON.stringify({username:t,password:e}),n({type:c.Eq}),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,fetch("/api/account/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:r})];case 2:return 200===(i=s.sent()).status?(n({type:c.XP}),n(a())):(console.log(i.status),n({type:c.Qj})),[3,4];case 3:return s.sent(),n({type:c.Qj}),[3,4];case 4:return n({type:c.$l}),[2]}})}),function(t){return n.apply(this,arguments)}},p=function(){var t;return t=(0,r.Z)(function(t){var e;return(0,s.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fetch("/api/account/logout",{method:"POST",headers:{Accept:"application/json"}})];case 1:return 200===e.sent().status?t({type:c.$x}):t({type:c.ek}),[3,3];case 2:return e.sent(),t({type:c.ek}),[3,3];case 3:return[2]}})}),function(e){return t.apply(this,arguments)}}},7733:function(t,e,n){"use strict";n.d(e,{T:function(){return r}});var r="https://api.fablanka.org"},2296:function(t,e,n){"use strict";var r=n(5893),s=n(7294),c=n(1043),a=n(2327),i=n(9008),u=n.n(i),o=n(2711),l=n.n(o),h=n(5152),p=n.n(h),d=p()(function(){return Promise.all([n.e(5675),n.e(650),n.e(7875)]).then(n.bind(n,6278))},{loadableGenerated:{webpack:function(){return[6278]}},ssr:!1}),f=p()(function(){return Promise.all([n.e(1664),n.e(650),n.e(3458)]).then(n.bind(n,3458))},{loadableGenerated:{webpack:function(){return[3458]}},ssr:!1}),j=function(t){var e=t.title,n=t.content,i=t.children;(0,s.useEffect)(function(){l().init({duration:1e3})},[]);var o=(0,c.I0)();return(0,s.useEffect)(function(){o&&null!=o&&o((0,a.xh)())},[o]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u(),{children:[(0,r.jsx)("title",{children:e}),(0,r.jsx)("meta",{name:"description",content:n})]}),(0,r.jsx)(f,{className:"sticky-sm-top"}),(0,r.jsx)("div",{className:"container-fluid px-5 mt-5",children:i}),(0,r.jsx)("div",{children:(0,r.jsx)(d,{})})]})};j.defaultProps={title:"FabLanka",content:"FabLanka"},e.Z=j},4087:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return y}});var r=n(5893),s=n(1163),c=n(1043),a=n(2296),i=n(7568),u=n(414),o=n(7294),l=n(9669),h=n.n(l);n(5675);var p=n(1664),d=n.n(p),f=n(7733),j=function(){var t,e=(0,o.useState)([]),n=e[0],s=e[1];console.log(n,"project");var c=(t=(0,i.Z)(function(){var t,e;return(0,u.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,h().get("".concat(f.T,"/api/projectmakandura/"))];case 1:return s((t=n.sent()).data),console.log(t.data,"setProject"),[3,3];case 2:return e=n.sent(),console.log(e),[3,3];case 3:return[2]}})}),function(){return t.apply(this,arguments)});(0,o.useEffect)(function(){c()},[]);var a,l=function(t,e){console.log(t,e),h().patch("".concat(f.T,"/api/projectmakandura/").concat(t,"/"),{status:e}).then(function(t){console.log(t),alert("Change status successfully")}).catch(function(t){console.log(t)})},p=(a=(0,i.Z)(function(t){var e;return(0,u.__generator)(this,function(n){switch(n.label){case 0:if(!window.confirm("Are you sure you want to delete this news? This action cannot be undone."))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,h().delete("".concat(f.T,"/api/projectmakandura/").concat(t))];case 2:return n.sent(),c(),[3,4];case 3:return e=n.sent(),console.log(e),[3,4];case 4:return[2]}})}),function(t){return a.apply(this,arguments)});return(0,r.jsx)("div",{className:"container mb-10",children:(0,r.jsxs)("div",{className:"table-responsive",children:[(0,r.jsx)("h1",{className:"text-center",children:"OurProject Maknadura"}),(0,r.jsxs)("table",{className:"table table-bordered",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",children:"#"}),(0,r.jsx)("th",{scope:"col",children:"Image"}),(0,r.jsx)("th",{scope:"col",children:"Project Title"}),(0,r.jsx)("th",{scope:"col",children:"Summery"}),(0,r.jsx)("th",{scope:"col",children:"Status"}),(0,r.jsx)("th",{scope:"col",children:"Action"})]})}),(0,r.jsx)("tbody",{children:n.map(function(t){return console.log(t.status),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"row",children:t.id}),(0,r.jsx)("td",{className:"text-center",children:(0,r.jsx)("img",{src:t.image_project_m,width:100,height:100})}),(0,r.jsx)("td",{children:t.title_project_m}),(0,r.jsx)("td",{children:t.summery_project_m}),(0,r.jsx)("td",{children:(0,r.jsxs)("select",{onChange:function(e){return l(t.id,e.target.value)},defaultValue:t.status,children:[(0,r.jsx)("option",{value:!0,children:"Active"}),(0,r.jsx)("option",{value:!1,children:"Inactive"})]})}),(0,r.jsx)("td",{className:"text-center",children:(0,r.jsxs)("div",{className:"btn-group-vertical",children:[(0,r.jsx)(d(),{href:"/admin/ourproject/"+t.id,children:(0,r.jsx)("button",{className:"btn btn-warning",children:"Edit"})}),(0,r.jsx)("button",{className:"btn btn-danger",onClick:function(){p(t.id)},children:"Delete"})]})})]},t.id)})})]})]})})},y=function(){var t=(0,s.useRouter)();return console.log(t.pathname),(0,c.v9)(function(t){return t.auth.isAuthenticated}),(0,c.v9)(function(t){return t.auth.user}),(0,c.v9)(function(t){return t.auth.loading}),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.Z,{title:"FabLanka | News",content:"Dashboard page",children:(0,r.jsx)("div",{className:"container mb-10",children:(0,r.jsx)(j,{})})})})}},1163:function(t,e,n){t.exports=n(387)}},function(t){t.O(0,[7689,9669,1664,5675,9774,2888,179],function(){return t(t.s=6340)}),_N_E=t.O()}]);